#!/usr/bin/env bash

echo "üìù Validating CueTimer commit message..."

# Run commitlint
bunx commitlint --edit $1 --config commitlint.config.cjs || {
    echo ""
    echo "‚ùå Commit message validation failed!"
    echo ""
    echo "Commit messages must follow the conventional commit format:"
    echo "  type(scope): description"
    echo ""
    echo "CueTimer-specific examples:"
    echo "  feat(timer): add countdown display with large numbers"
    echo "  fix(mobile): resolve touch gesture conflicts on iOS"
    echo "  docs(marketing): update landing page features"
    echo "  content(pricing): add new pricing tiers with testimonials"
    echo "  refactor(supabase): optimize timer events query"
    echo "  test(timer): add integration tests for timer sync"
    echo "  perf(mobile): reduce bundle size for faster initial load"
    echo ""
    echo "Available types: feat, fix, docs, style, refactor, perf, test, chore,"
    echo "build, ci, revert, bump, lint, security, deps, i18n, wip, content,"
    echo "mobile, timer, marketing, supabase, billing"
    echo ""
    exit 1
}

echo "‚úÖ Commit message validation passed!"
